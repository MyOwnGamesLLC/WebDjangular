<div class="form-group" [formGroup]="group">
  <label>{{ config.label }}</label>
  <div class="alert alert-warning alert-group">
    <div class="form-inline">
      <ng-container *ngTemplateOutlet="operatorSelect; context: { on: this.on, toggle: this.toggle, fns: { toggle: this.toggle } }">
      </ng-container>
      <ng-container *ngTemplateOutlet="buttonsRow;">
        </ng-container>

    </div>
    <div class="group-conditions">
      <div ng-repeat="rule in group.rules | orderBy:'index'" class="condition">
        <div ng-switch="rule.hasOwnProperty('group')">
          <div ng-switch-when="true">

          </div>
          <div ng-switch-default="ng-switch-default">
            <div class="form-inline">
              <select ng-options="t.name as t.name for t in fields" ng-model="rule.field" class="form-control input-sm"></select>
              <select style="margin-left: 5px" ng-options="c.name as c.name for c in conditions" ng-model="rule.condition"
                class="form-control input-sm"></select>
              <input style="margin-left: 5px" type="text" ng-model="rule.data" class="form-control input-sm" />
              <button style="margin-left: 5px" (click)="removeCondition($index)" class="btn btn-sm btn-danger"><span
                  class="glyphicon glyphicon-minus-sign"></span></button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


</div>
<!--form-group-->
<ng-template #operatorSelect>
  <nb-select placeholder="Select Operator" [(selected)]="selectedItem" outline status="success" size="xsmall">
    <nb-option *ngFor="let option of operators" value="{{option.value}}">
      {{option.label}}
    </nb-option>
  </nb-select>
</ng-template>
<!-- OPERATOR SELECT -->
<ng-template #buttonsRow>
  <button nbButton style="margin-left: 5px" size="xsmall" (click)="addCondition()" status="success"><i class="far fa-plus-square"></i>
    Add Condition</button>
  <button nbButton style="margin-left: 5px" size="xsmall" (click)="addGroup()" status="success"><i class="fas fa-plus-square"></i>
    Add Group</button>
  <button nbButton style="margin-left: 5px" size="xsmall" (click)="removeGroup()" status="danger"><i class="fas fa-trash"></i>
    Remove Group</button>
</ng-template>
